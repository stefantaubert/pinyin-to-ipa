# pinyin-to-ipa

[![CI](https://github.com/stefantaubert/pinyin-to-ipa/actions/workflows/ci.yml/badge.svg?branch=master)](https://github.com/stefantaubert/pinyin-to-ipa/actions/workflows/ci.yml)
[![codecov](https://codecov.io/github/stefantaubert/pinyin-to-ipa/branch/master/graph/badge.svg?token=DZ8LB2Q5I0)](https://codecov.io/github/stefantaubert/pinyin-to-ipa)
[![PyPI](https://img.shields.io/pypi/v/pinyin-to-ipa.svg)](https://pypi.python.org/pypi/pinyin-to-ipa)
[![Python versions](https://img.shields.io/pypi/pyversions/pinyin-to-ipa.svg)](https://pypi.python.org/pypi/pinyin-to-ipa) \
[![License: MIT](https://img.shields.io/github/license/stefantaubert/pinyin-to-ipa.svg)](https://github.com/stefantaubert/pinyin-to-ipa/blob/master/LICENSE)
[![Hugging Face ðŸ¤—](https://img.shields.io/badge/%20%F0%9F%A4%97_Hugging_Face-pinyin--to--ipa-blue.svg)](https://huggingface.co/spaces/stefantaubert/pinyin-to-ipa)
[![DOI](https://zenodo.org/badge/DOI/10.5281/zenodo.10639971.svg)](https://doi.org/10.5281/zenodo.10639971)

Python library, web app, and command-line interface to transcribe pinyin to IPA.
The tones are attached to the vowel of the syllable.

## Getting started

### Installation

```sh
pip install pinyin-to-ipa[app] --user
```

### Usage as library

```py
from pinyin_to_ipa import pinyin_to_ipa

print(pinyin_to_ipa("hang4"))
# OrderedSet([('x', 'aË¥Ë©', 'Å‹'), ('h', 'aË¥Ë©', 'Å‹')])

print(pinyin_to_ipa("ng"))
# OrderedSet([('Å‹',)])
```

### Usage as web app

Start the web app from the command-line:

```sh
$ pinyin-to-ipa-app
```

Or visit [ðŸ¤— Hugging Face](https://huggingface.co/spaces/stefantaubert/pinyin-to-ipa) for a live demo.

<a href="https://huggingface.co/spaces/stefantaubert/pinyin-to-ipa">
<img src="https://github.com/stefantaubert/pinyin-to-ipa/raw/master/img/gui.png" alt="Screenshot Hugging Face" style="max-width: 600px; width: 100%"/>
</a>

## Usage as CLI

```sh
$ pinyin-to-ipa-cli
```

```txt
usage: pinyin-to-ipa-cli [-h] [-v] [--sep SEP] [--first] PINYIN

Command-line interface (CLI) to transcribe pinyin to IPA.

positional arguments:
  PINYIN         pinyin

optional arguments:
  -h, --help     show this help message and exit
  -v, --version  show program's version number and exit
  --sep SEP      separator between phonemes (default: )
  --first        return only first result (default: False)
```

#### Example

```sh
$ pinyin-to-ipa-cli "pang1" 
pÊ°aË¥Å‹
$ pinyin-to-ipa-cli "pang2" 
pÊ°aË§Ë¥Å‹
$ pinyin-to-ipa-cli "pang3" 
pÊ°aË§Ë©Ë§Å‹
$ pinyin-to-ipa-cli "pang4" 
pÊ°aË¥Ë©Å‹
$ pinyin-to-ipa-cli "pang5" 
pÊ°aÅ‹
$ pinyin-to-ipa-cli "pang" 
pÊ°aÅ‹
$ pinyin-to-ipa-cli "hÃ ng" 
xaË¥Ë©Å‹
haË¥Ë©Å‹
$ pinyin-to-ipa-cli "hÃ ng" --first
xaË¥Ë©Å‹
$ pinyin-to-ipa-cli "hng" 
hÅ‹
$ pinyin-to-ipa-cli "test" 
No IPA transcription available!
```

## Phoneme set

### Vowels

```txt
a É› e É™ Éš É¤ i o É” u ÊŠ y 
```

### Diphthongs

```txt
aiÌ¯ auÌ¯ aÉšÌ¯Â¹ eiÌ¯ ouÌ¯ 
```

Â¹ These phonemes are not included if only the first transcription is used.

### Consonants

```txt
f hÂ¹ j k kÊ° l m n Å‹ p pÊ° É¹Ì©Â² É»Â² É»Ì©Â² 
s Ê‚ t tÊ° ts tsÊ° tÉ• tÉ•Ê° ÊˆÊ‚ ÊˆÊ‚Ê° 
w x É• É¥ zÌ©Â¹Â² ÊÂ¹Â² ÊÌ©Â¹Â²
```

Â² These consonants contain also tones.

### Tones

Vowels and diphthongs contain one of these tones:

```txt
Ë¥ (first tone)
Ë§Ë¥ (second tone)
Ë§Ë©Ë§ (third tone)
Ë¥Ë© (fourth tone)
(none)
```

## References

- [https://en.wikipedia.org/wiki/Help:IPA/Mandarin](https://en.wikipedia.org/wiki/Help:IPA/Mandarin)
- [https://en.wikipedia.org/wiki/Standard_Chinese_phonology](https://en.wikipedia.org/wiki/Standard_Chinese_phonology)
- [https://en.wikipedia.org/wiki/Pinyin](https://en.wikipedia.org/wiki/Pinyin)
- [https://de.wikipedia.org/wiki/Pinyin](https://de.wikipedia.org/wiki/Pinyin)
- Duanmu, San. 2007. The Phonology of Standard Chinese. 2nd ed. Oxfordâ€¯; New York: Oxford University Press.
- Lin, Yen-Hwei. 2007. The Sounds of Chinese. Cambridge, UKâ€¯; New York: Cambridge University Press.

## Acknowledgments

- [pypinyin](https://github.com/mozillazg/python-pinyin)
- Funded by the Deutsche Forschungsgemeinschaft (DFG, German Research Foundation) â€“ Project-ID 416228727 â€“ CRC 1410

## Citation

If you want to cite this repo, you can use this BibTeX-entry generated by GitHub (see *About => Cite this repository*).

```txt
Taubert, S. (2025). pinyin-to-ipa (Version 0.0.2) [Computer software]. https://doi.org/10.5281/zenodo.10639971
```
